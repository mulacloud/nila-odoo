<odoo>
  <data>
    <!-- explicit list view definition -->
    <record model="ir.ui.view" id="nila.list_zones">
      <field name="name">Agent</field>
      <field name="model">nila.zones</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>
          <field name="hoster_id"/>
          <field name="zones_type"/>
          <field name="image_id"/>
          <field name="ip"/>
          <field name="netmask"/>
          <field name="gateway"/>
          <field name="memory"/>
          <field name="disk"/>
          <field name="order_state"/>
          <field name="power_on"/>
        </list>
      </field>
    </record>
    
    <record model="ir.ui.view" id="nila.form_zones">
      <field name="name">Zones</field>
      <field name="model">nila.zones</field>
      <field name="arch" type="xml">
          <form>
            <header>
                <field name="order_state" widget="statusbar"/>
                <button 
                    name="submit" 
                    type="object" 
                    string="Submit Request"
                    invisible="order_state != 'D'"
                    />
                <button 
                    name="run" 
                    type="object" 
                    string="Create"
                    invisible="order_state != 'N'"
                    />
                <button 
                    name="suspend" 
                    type="object" 
                    string="Suspend"
                    invisible="order_state != 'R'"
                    />
                <button 
                    name="start" 
                    type="object" 
                    string="Wakeup"
                    invisible="order_state != 'S'"
                    />
            </header>
            <sheet>
                <group>
                    <group>
                        <field name="name"/>
                        <field name="zones_id" string="Zones ID" readonly="1"/>
                        <field name="power_on" widget="boolean_favorite"  readonly="1"/>
                        <field name="zones_type"/>
                        <field name="memory" min="512" readonly="order_state != 'D'" />
                        <field name="disk" readonly="order_state != 'D'"/>
                        <field name="image_id" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True,}" readonly="order_state != 'D'"/>
                    </group>
                    <group>
                        <field name="ip" readonly="order_state != 'D'"/>
                        <field name="netmask" readonly="order_state != 'D'"/>
                        <field name="gateway" readonly="order_state != 'D'"/>
                    </group>
                </group>
                <notebook>
                    <page string="SSH Key">
                        <field name="sshkey_ids"/>
                    </page>
                     <page string="Create Step">
                         <field name="create_step" />
                     </page>
                     <page string="Start Step">
                         <field name="start_step" />
                     </page>
                     <page string="Stop Step">
                         <field name="stop_step" />
                     </page>
                     <page string="Destroy Step">
                         <field name="destroy_step" />
                     </page>
                </notebook>
            </sheet>
        </form>
      </field>
    </record>

    <!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="nila.action_window_zones">
      <field name="name">Zones</field>
      <field name="res_model">nila.zones</field>
      <field name="view_mode">list,form</field>
    </record>

    <menuitem name="Zones"  sequence="-99" id="nila.menu_zones_list" parent="nila.menu_root"
              action="nila.action_window_zones"/>
  </data>
</odoo>
